#Creates a new file "Bfile" extracting only the B line from "file"
F= open("file", 'r')
B= open("Bfile", 'w+')
for line in F:
        if "B" in line:
            B.write(line)
F.close()
B.close()

#Creates Zfile (pressure altitude) from Bfile
B=open("Bfile","r")
Z=open("Zfile","w+")
for i in B:
    l=B.readline()
    r=l[25:30]
    Z.write(r)
    Z.write("\n")
B.close()
Z.close()

#Creates dZfile (Zn+3 -Zn) from Zfile (pressure altitude)
Z=open("Zfile")
dZ=open("dZfile","a+")
L=[]
for i in Z:
    L.append(int(i))
Z.close()
for i, li in enumerate(L):
    for j, ji in enumerate(L):
        if j==i+3:
            r=ji-li
            dZ.write("%d\r\n" % r)
dZ.close()
