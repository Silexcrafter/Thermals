#This is pure gold. Creates Cfile containing only the Blines of the thermals
F= open("NetCoupe2017_13788.igc", 'r')
B= open("Bfile", 'w+')
for i in F:
    l=F.readline()
    r=l[0:1]    
    if "B" in r:
        B.write(l)
F.close()
B.close()
B=open("Bfile","r")
C=open("Cfile","w+")
Z=[]
dZ=[]
LB=[]
for i,li in enumerate(B):
    LB.append((li).strip("\n"))
for i in LB:
    r=i[25:30]
    Z.append(int(r))
for i, li in enumerate(Z):
    for j, ji in enumerate(Z):
        if j==i+3:
            r=int(ji-li)
            dZ.append(r)
B.close()
C.close()
B=open("Bfile","r")
C=open("Cfile","w+")
for i,vi in enumerate(dZ):   #incrÃ©mentation,valeur
    if vi>0:
        C.write(LB[i])
        C.write("\n")
B.close()
C.close()
